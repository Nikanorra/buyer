<template>
  <section class="header-options">
    <div class="container">
      <div class="row">
        <div class="col-lg-2">
          <router-link to="/" class="header-options__logo">
            <img class="logo" src="@/assets/img/header/logo.svg" alt="Logo" />
          </router-link>
        </div>
        <div class="col-lg-8 col-md-12">
          <div class="header-options__search">
            <input
              type="text"
              placeholder="Search"
              v-model="searchValue"
              @keyup.enter="search(searchValue)">
            <button class="" @click="search(searchValue)">
              <svg
                width="19"
                height="19"
                viewBox="0 0 19 19"
                fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M18.5776 16.511L14.6612 12.5946C15.605 11.2321 16.0772 9.71322 16.0772 8.0387C16.0772 6.95016 15.8658 5.9091 15.4432 4.91574C15.0208 3.92223 14.4499 3.06589 13.7305 2.34653C13.0112 1.62717 12.1549 1.05618 11.1616 0.633775C10.168 0.211245 9.12705 0 8.03852 0C6.95008 0 5.90902 0.211245 4.91568 0.633775C3.92218 1.05618 3.06585 1.62717 2.3465 2.34653C1.62707 3.06589 1.05617 3.92239 0.633727 4.91574C0.211242 5.90922 0 6.95016 0 8.0387C0 9.12716 0.211242 10.1679 0.633727 11.1615C1.05613 12.1549 1.62707 13.0111 2.3465 13.7304C3.06585 14.45 3.92234 15.0208 4.91568 15.4434C5.90914 15.8659 6.95008 16.0771 8.03852 16.0771C9.71338 16.0771 11.232 15.6049 12.5946 14.6611L16.511 18.5661C16.7851 18.8553 17.1272 19 17.5386 19C17.9344 19 18.2771 18.8553 18.5662 18.5661C18.8553 18.277 19 17.9344 19 17.5386C19.0001 17.1354 18.8593 16.7926 18.5776 16.511ZM11.6524 11.6523C10.6515 12.6534 9.44691 13.154 8.03852 13.154C6.63037 13.154 5.42583 12.6533 4.42477 11.6523C3.42371 10.6513 2.9232 9.44687 2.9232 8.03846C2.9232 6.6303 3.42383 5.42554 4.42477 4.42466C5.42563 3.42355 6.63037 2.92307 8.03852 2.92307C9.44675 2.92307 10.6513 3.42375 11.6524 4.42466C12.6536 5.42554 13.1541 6.6303 13.1541 8.03846C13.1541 9.44687 12.6534 10.6513 11.6524 11.6523Z"
                  fill="#BFBFBF" />
              </svg>
            </button>
          </div>
        </div>
        <div class="col-lg-2">
          <div class="header-options__nav">
            <ul>
              <li>
                <router-link to="/Wishlist" href="#">
                  <svg
                    width="22"
                    height="20"
                    viewBox="0 0 22 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M0.889832 6.82985C1.22459 3.45679 3.76585 0.849976 7.08438 0.849976C8.70812 0.849976 10.1999 1.48354 11.3101 2.57488C12.4462 1.48819 13.9797 0.850322 15.6157 0.850322C18.9351 0.850322 21.476 3.45776 21.8107 6.83117C21.8555 7.13468 21.921 7.94171 21.6269 9.13811C21.1792 10.9614 20.1495 12.5986 18.6775 13.8806L18.6708 13.8865L12.0326 19.5769C11.605 19.9434 10.9727 19.9407 10.5483 19.5706L4.02276 13.8804C2.55064 12.5987 1.52094 10.9611 1.07325 9.13838M0.889832 6.82985C0.844026 7.13721 0.779819 7.94447 1.07325 9.13838L0.889832 6.82985ZM7.08438 3.11422C5.08358 3.11422 3.36993 4.68512 3.14393 7.07846C3.14134 7.10598 3.13773 7.1334 3.13312 7.16066C3.13313 7.16066 3.04848 7.67507 3.2755 8.59867C3.60455 9.93851 4.36899 11.1777 5.51303 12.1738L11.3004 17.2203L17.1901 12.1715C18.3326 11.1754 19.0958 9.93777 19.4245 8.59894C19.6536 7.6673 19.5656 7.15071 19.5669 7.1581C19.5625 7.13184 19.5591 7.10544 19.5565 7.07895C19.3302 4.68542 17.6168 3.11457 15.6157 3.11457C14.2335 3.11457 12.9708 3.8292 12.2617 4.96986C12.0538 5.30422 11.6869 5.50681 11.2928 5.50488C10.8987 5.50296 10.5338 5.2968 10.3293 4.96042C9.62255 3.79841 8.42535 3.11422 7.08438 3.11422Z"
                      fill="#2E2E2E" />
                  </svg>
                </router-link>
              </li>
              <li>
                <router-link to="/Cart" class="header-options__card">
                  <svg
                    width="20"
                    height="19"
                    viewBox="0 0 20 19"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M19.7465 2.47516C19.548 2.24399 19.2623 2.11099 18.961 2.11099H4.60363L4.40103 0.882323C4.31791 0.373545 3.88467 -0.00012207 3.37662 -0.00012207H1.03896C0.464415 -0.00012207 0 0.471711 0 1.05543C0 1.63916 0.464415 2.11099 1.03896 2.11099H2.49662L4.42908 13.8952C4.4374 13.9427 4.46129 13.9818 4.47584 14.0261C4.49246 14.082 4.50597 14.1348 4.53194 14.1855C4.56519 14.2552 4.60986 14.3143 4.65662 14.3744C4.68882 14.4156 4.71791 14.4568 4.75532 14.4927C4.81558 14.5497 4.88519 14.5898 4.95584 14.6299C4.99532 14.652 5.0296 14.6816 5.0722 14.6985C5.19272 14.7481 5.31947 14.7777 5.4535 14.7777H16.8831C17.4576 14.7777 17.922 14.3058 17.922 13.7221C17.922 13.1384 17.4576 12.6665 16.8831 12.6665H6.33454L6.16207 11.611H17.922C18.4395 11.611 18.8779 11.2247 18.9506 10.7053L19.9896 3.31643C20.0322 3.01243 19.9428 2.70527 19.7465 2.47516ZM17.7631 4.2221L17.467 6.33321H13.7662V4.2221H17.7631ZM12.7273 4.2221V6.33321H9.61037V4.2221H12.7273ZM12.7273 7.38877V9.49988H9.61037V7.38877H12.7273ZM8.57141 4.2221V6.33321H5.45454C5.39947 6.33321 5.3496 6.34905 5.30077 6.36488L4.9496 4.2221H8.57141ZM5.46908 7.38877H8.57141V9.49988H5.81506L5.46908 7.38877ZM13.7662 9.49988V7.38877H17.3174L17.0213 9.49988H13.7662Z"
                      fill="#2E2E2E" />
                    <path
                      d="M7.01296 18.9999C7.87366 18.9999 8.5714 18.291 8.5714 17.4165C8.5714 16.5421 7.87366 15.8332 7.01296 15.8332C6.15226 15.8332 5.45452 16.5421 5.45452 17.4165C5.45452 18.291 6.15226 18.9999 7.01296 18.9999Z"
                      fill="#2E2E2E" />
                    <path
                      d="M16.3637 18.9999C17.2244 18.9999 17.9221 18.291 17.9221 17.4165C17.9221 16.5421 17.2244 15.8332 16.3637 15.8332C15.503 15.8332 14.8052 16.5421 14.8052 17.4165C14.8052 18.291 15.503 18.9999 16.3637 18.9999Z"
                      fill="#2E2E2E" />
                  </svg>
                  <span class="card__counter" v-if="cart >= 0">{{ cart }}</span>
                  <span class="card__counter" v-else>0</span>
                </router-link>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>

<script>
import { FingerprintService } from "@/FingerprintService";

export default {
  services: ["FingerprintService"],
  props: {
    cart: {
      type: Number,
      default: 0,
    },
  },
  data() {
    return {
      visitorId: "",
      products: [],
      searchValue: "",
    };
  },
  async created() {
    this.loader = true;
    const newFPS = new FingerprintService();
    this.visitorId = await newFPS.getUserToken();
  },
  methods: {
    search(searchValue) {
      localStorage.searchValue = searchValue;
      if (this.$router.history.current.name !== "Search") {
        this.$router.push("/Search");
      } else {
        this.$emit("search");
      }
    },
  },
};
</script>
